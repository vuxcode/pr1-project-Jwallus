<!DOCTYPE html>

<head>
    <title>Virtual Pet</title>
    <style>
        body 
        {
            font-family: sans-serif;
            text-align: center;
            background-color: #f0f8ff;
            margin: 0px;
            padding: 15px;
        }
        h1 
        {
            color: #234981;
            font-family: sans-serif;
        }
        .stat 
        {
            margin: 10px 0;
        }
        .stat-bar 
        {
            width: 80%;
            height: 20px;
            background-color: #c0c0c0;
            border-radius: 8px;
            margin: 0 auto;
        }
        .stat-bar-inner 
        {
            height: 100%;
            text-align: right;
            padding-right: 10px;
            color: white;
            font-weight: bold;
            line-height: 20px;
            border-radius: 10px;
        }
        .buttons 
        {
            margin-top: 20px;
        }
        button 
        {
            padding: 10px 20px;
            margin: 5px;
            font-size: 16px;
            font-weight: bold;
        }
        button:hover 
        {
            background-color: #5c9265;
        }
        button:active 
        {
            background-color: #b4b4b4;
        }
    </style>
</head>
<body>
    <h1>Wally's Virtual Pet</h1>
    <!-- pet name as a separate paragraph to showcase it once it's been entered by the user -->
    <p id="pet-name"></p>

    <!-- Div class containing a health label, stat-bar and style for a visual bar showing the health -->
    <div class="stat">
        <label>Health</label>
        <div class="stat-bar">
            <div class="stat-bar-inner" id="health-bar" style="background-color: #256427; width: 100%;">100</div>
        </div>
    </div>
    <div class="stat">
        <label>Energy</label>
        <div class="stat-bar">
            <div class="stat-bar-inner" id="energy-bar" style="background-color: #d8c621; width: 50%;">50</div>
        </div>
    </div>
    <div class="stat">
        <label>Happiness</label>
        <div class="stat-bar">
            <div class="stat-bar-inner" id="happiness-bar" style="background-color: #1f4dca; width: 50%;">50</div>
        </div>
    </div>
    <div class="stat">
        <label>Hunger</label>
        <div class="stat-bar">
            <div class="stat-bar-inner" id="hunger-bar" style="background-color: #da6826; width: 50%;">50</div>
        </div>
    </div>

    <!-- Buttons to click -->
    <div class="buttons">
        <button onclick="feedPet()">Feed Pet</button>
        <button onclick="playWithPet()">Play with Pet</button>
        <button onclick="restPet()">Let the pet rest</button>
    </div>

    <script>
        // Base stats, both starting numbers and max limit
        // Health
        var health = 100; 
        var maxHealth = 100;
        // Energy
        var energy = 50 
        var maxEnergy = 100;
        // Happiness
        var happiness = 50 
        var maxHappiness = 100;
        // Hunger
        var hunger = 50 
        var maxHunger = 100;

        // Items that has an effect on the base stats
        var foodItem1 = 5;
        var foodItem2 = 10;
        var toyItem1 = 10;
        var toyItem2 = 20;
        var restingTime = 5;

        //Coin variables for purchase functionality
        var coin = 100;
        var maxBudget = 500;

        // Naming pet and confirms pet name
        var petName = prompt("Welcome to Wally's Virtual Pet! Please name your pet!");

        // Get the pet-name ID and print it on the document, confirming the name for the user and presents it using Template Literal ``
        document.getElementById("pet-name").textContent = `Your pet's name is ${petName}`;

        function decreaseStats() 
        {
        for (var i = 0; i < 1; i++) // Loop that will run once
            {
                // Decrease health stat by 1, but dont go below 0
                if (health > 0) 
                {
                    health--;;
                } else 
                {
                    health = 0;
                }
                // Decrease energy stat by 1, but dont go below 0
                if (energy > 0) 
                {
                    energy--;
                } else 
                {
                    energy = 0;
                }
                // Decrease happiness stat by 1, but dont go below 0
                if (happiness > 0) 
                {
                    happiness--;
                } else 
                {
                    happiness = 0;
                }
                // Decrease hunger stat by 1, but dont go below 0
                if (hunger > 0) 
                {
                    hunger--;
                } else 
                {
                    hunger = 0;
                }
            }

        updateStats(); // Update the stats
        setTimeout(decreaseStats, 3000); // Delay in milliseconds for the loop to run again
        }

    // Start the loop
    decreaseStats();

            
    // Feeding the pet
    function feedPet() 
    {
        if (hunger < maxHunger) 
        {
            hunger = Math.min(maxHunger, hunger + foodItem1);
            energy = Math.min(maxEnergy, energy + foodItem1);
            updateStats();
        }
    }

    // Playing with the pet
    function playWithPet() 
    {
        if (energy > 0 && hunger > 0 && happiness <= maxHappiness) 
        {
            happiness = Math.min(maxHappiness, happiness + toyItem1);
            energy = Math.max(0, energy - toyItem1);
            hunger = Math.max(0, hunger - toyItem1);
            updateStats();
        }
    }

    // Resting the pet
    function restPet() 
    {
        if (energy < maxEnergy) {
            energy = Math.min(maxEnergy, energy + restingTime);
            updateStats();
        }
    }

    // Function to always update the stats after each input the user does, visual update and console log
    function updateStats()
    {
        document.getElementById("health-bar").style.width = (health / maxHealth) * 100 + "%";
        document.getElementById("health-bar").innerText = health;
        document.getElementById("energy-bar").style.width = (energy / maxEnergy) * 100 + "%";
        document.getElementById("energy-bar").innerText = energy;
        document.getElementById("happiness-bar").style.width = (happiness / maxHappiness) * 100 + "%";
        document.getElementById("happiness-bar").innerText = happiness;
        document.getElementById("hunger-bar").style.width = (hunger / maxHunger) * 100 + "%";
        document.getElementById("hunger-bar").innerText = hunger;

        console.log("Your pet's health is: " + health);
        console.log("Your pet's hunger is: " + hunger);
        console.log("Your pet's energy is: " + energy);
        console.log("Your pet's happiness is: " + happiness);
    }
        </script>
    </body>
</html>
